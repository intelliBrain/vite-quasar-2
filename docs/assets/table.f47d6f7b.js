import{c as w}from"./cms.ab095d49.js";import{_ as y}from"./index.6f067a4f.js";import{r as m,o as q,A as o,B as b,C as v,D as l,E as u,F as h}from"./vendor.34d1beb4.js";import"./vendor-quasar.fc061f32.js";const k=[{name:"categoryName",required:!0,label:"\u5206\u7C7B\u540D\u79F0",align:"left",required:!0,field:a=>a.categoryName,format:a=>`${a}`,sortable:!0},{name:"name",label:"\u6807\u9898",field:"name",align:"left",style:"max-width: 200px"},{name:"featured",label:"\u63A8\u8350",field:"featured",sortable:!0},{name:"publishedTime",label:"\u53D1\u5E03\u65F6\u95F4",field:"publishedTime"},{name:"createdTime",label:"\u521B\u5EFA\u65F6\u95F4",field:"createdTime"},{name:"status",label:"\u53D1\u5E03\u72B6\u6001",field:"status",sortable:!0,sort:(a,t)=>parseInt(a,10)-parseInt(t,10)},{name:"thumbnailImg",label:"\u5C01\u9762\u56FE\u7247",field:"thumbnailImg",sortable:!0,sort:(a,t)=>parseInt(a,10)-parseInt(t,10)},{name:"viewCount",label:"\u70B9\u51FB\u91CF",field:"viewCount",sortable:!0,sort:(a,t)=>parseInt(a,10)-parseInt(t,10)}],I={setup(){const a=m([]),t=m(null),r=m(!1),e=m({sortBy:"id",descending:!0,page:1,rowsPerPage:10,rowsNumber:10}),p=g=>{const{page:_,rowsPerPage:s,sortBy:i,descending:d}=g.pagination,f=g.filter;r.value=!0;let c={page:_,pageSize:s,sortField:i,ascending:!d,keyword:f};console.log(c),w.search(c).then(n=>{a.value=n.data.results,e.value.page=n.data.currentPage,e.value.rowsPerPage=s,e.value.sortBy=i,e.value.descending=d,e.value.rowsNumber=n.data.totalElements,r.value=!1})};return q(()=>{p({pagination:e.value,filter:null})}),{columns:k,rows:a,keyword:t,pagination:e,loading:r,searchContents:p}}},x={key:1,class:"empty"};function B(a,t,r,e,p,g){const _=o("q-icon"),s=o("q-input"),i=o("q-img"),d=o("q-td"),f=o("q-table"),c=o("q-page");return b(),v(c,{class:"q-ma-md page-table"},{default:l(()=>[u(f,{pagination:e.pagination,"onUpdate:pagination":t[1]||(t[1]=n=>e.pagination=n),"wrap-cells":!0,rows:e.rows,columns:e.columns,loading:e.loading,filter:e.keyword,class:"sticky-table","row-key":"id",onRequest:e.searchContents},{"top-right":l(()=>[u(s,{modelValue:e.keyword,"onUpdate:modelValue":t[0]||(t[0]=n=>e.keyword=n),borderless:"",dense:"",debounce:"300",placeholder:"Search"},{append:l(()=>[u(_,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-thumbnailImg":l(n=>[u(d,{props:n},{default:l(()=>[n.value?(b(),v(i,{key:0,src:n.value,ratio:16/9},null,8,["src"])):(b(),h("div",x,"--"))]),_:2},1032,["props"])]),_:1},8,["pagination","rows","columns","loading","filter","onRequest"])]),_:1})}var T=y(I,[["render",B]]);export{T as default};
