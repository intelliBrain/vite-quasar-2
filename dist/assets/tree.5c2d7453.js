import{_ as y}from"./index.6f067a4f.js";import{r as h,o as k,A as w,B as L,F as S,O as M,P as _,E as N,D as E,G as q}from"./vendor.34d1beb4.js";import"./vendor-quasar.fc061f32.js";const G={setup(){const i=h([{id:"1",label:"Satisfied customers (with avatar)",avatar:"https://cdn.quasar.dev/img/boy-avatar.png",children:[{id:"2",label:"Good food (with icon)",icon:"restaurant_menu",children:[{id:"3",label:"Quality ingredients"},{id:"4",label:"Good recipe"}]},{id:"5",label:"Good service (disabled node with icon)",icon:"room_service",children:[{id:"6",label:"Prompt attention",disabled:!0},{id:"7",label:"Professional waiter"}]},{id:"8",label:"Pleasant surroundings (with icon)",icon:"photo",children:[{id:"9",label:"Happy atmosphere (with image)",img:"https://cdn.quasar.dev/img/logo_calendar_128px.png"},{id:"10",label:"Good table presentation"},{id:"11",label:"Pleasing decor"}]},{id:"13",label:"Good service (disabled node with icon)",icon:"room_service"}]}]),d=h(),g=e=>{let r=null;for(;e.parentNode&&!r;)e=e.parentNode,e.classList.contains("q-tree__node")&&(r=e);return r},t=(e,r,a,o)=>{let l,m;if(Array.isArray(e))l=e;else{if(m=e,e.id===r)return{node:e,index:a,parent:o};l=e.children}if(l){let c,p=null;for(c=0;p==null&&c<l.length;c++)p=t(l[c],r,c,m);return p}return null},v=(e,r)=>{if(e===r)return;const a=t(i.value,e,-1),o=t(i.value,r,-1);if(a){if(o&&t(a.node,o.node.id,-1))return;a.parent&&a.parent.children?a.parent.children.splice(a.index,1):i.value.splice(a.index,1),o&&o.node&&(o.node.children?o.node.children.splice(0,0,a.node):(o.node.children=[],o.node.children.push(a.node)),d.value.setExpanded(o.node.id,!0))}},u=e=>{console.log("dragEnter"),e.preventDefault()},f=e=>{console.log("dragOver"),e.preventDefault();const r=e.target;r&&r.classList.add("container")},s=e=>{console.log("dragLeave"),e.preventDefault();const r=e.target;r&&r.classList.remove("container")},n=(e,r)=>{if(console.log("dragStart"),e.target){const a=e.target,o=g(a);o&&o.classList.add("dragging")}e.dataTransfer&&e.target&&e.dataTransfer.setData("node",r)},b=e=>{if(console.log("dragStop"),e.target){const r=e.target,a=g(r);a&&a.classList.remove("dragging")}},D=(e,r)=>{console.log("drop"),e.preventDefault();const a=e.target;let o="";e.dataTransfer&&(o=e.dataTransfer.getData("node")),a&&a.classList.remove("container"),o&&(v(o,r),console.log(`Move ${o} to ${r}`))},x=()=>{console.log("checkMovecheckMovecheckMovecheckMove")};return k(()=>console.log("1111111111",d.value)),{simple:i,dragEnter:u,dragOver:f,dragLeave:s,dragStart:n,dragStop:b,drop:D,getNodeById:t,tree:d,checkMove:x}}},P=["onDrop","onDragstart","move"];function B(i,d,g,t,v,u){const f=w("q-tree");return L(),S("div",null,[M(_(t.simple)+" ",1),N(f,{ref:"tree",nodes:t.simple,"node-key":"id","default-expand-all":"",class:"mett-page-tree"},{"default-header":E(s=>[q("div",{class:"row items-center fit mett-tree-item cursor-pointer",draggable:"true",onDrop:n=>t.drop(n,s.key),onDragenter:d[0]||(d[0]=(...n)=>t.dragEnter&&t.dragEnter(...n)),onDragover:d[1]||(d[1]=(...n)=>t.dragOver&&t.dragOver(...n)),onDragleave:d[2]||(d[2]=(...n)=>t.dragLeave&&t.dragLeave(...n)),onDragstart:n=>t.dragStart(n,s.key),onDragend:d[3]||(d[3]=(...n)=>t.dragStop&&t.dragStop(...n)),move:t.checkMove},_(s.node.label),41,P)]),_:1},8,["nodes"])])}var A=y(G,[["render",B],["__scopeId","data-v-7ca0205a"]]);export{A as default};
